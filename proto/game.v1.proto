syntax = "proto3";

package game.v1;

service GameService {
    rpc JoinRoom(JoinRoomRequest) returns (JoinRoomResponse);
    rpc EnterGame(EnterGameRequest) returns (stream GameEvent);

    rpc Ping(PingRequest) returns (PingResponse);
}

message JoinRoomRequest {
    string room_name = 1;
}

message JoinRoomResponse {
    string message = 1;
    bool success = 2;
    string room_id = 3;
}

message EnterGameRequest {
    string room_id = 1;
}

message GameEvent {
    oneof event_type {
        GameState state_update = 1;
    }
}

message PingRequest {
    string room_id = 1;
}

message PingResponse {}

message GameState {
    repeated uint32 self_hand = 1;
    uint32 other_hand_count = 2;
    uint32 self_deck_count = 3;
    uint32 other_deck_count = 4;
}
